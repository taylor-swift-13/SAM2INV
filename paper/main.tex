%%
%% SAM2INV: LLM-Driven Loop Invariant Synthesis via Sampling and Iterative Refinement
%% ACM Conference Format
%%
\documentclass[sigconf,nonacm]{acmart}

%% Packages
\usepackage{booktabs}
%% algorithm/algorithmic not available in this TeX installation;
%% using a listing-based pseudocode style instead.
\usepackage{listings}
\usepackage{xcolor}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{pifont}

%% Listings style for C / ACSL
\lstdefinestyle{cstyle}{
  language=C,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{gray}\itshape,
  stringstyle=\color{red},
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=5pt,
  backgroundcolor=\color{white},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  frame=single,
  tabsize=2,
  captionpos=b,
  breaklines=true,
  breakatwhitespace=false,
  escapeinside={(*@}{@*)},
  morekeywords={loop,invariant,assigns,variant,requires,assert},
  literate={\\at}{{{\color{blue}\textbackslash at}}}3
           {\\forall}{{{\color{blue}\textbackslash forall}}}7
           {\\exists}{{{\color{blue}\textbackslash exists}}}7,
}
\lstset{style=cstyle}

%% Listings style for Coq
\lstdefinestyle{coqstyle}{
  language=,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{gray}\itshape,
  numbers=left,
  numberstyle=\tiny\color{gray},
  frame=single,
  breaklines=true,
  morekeywords={Definition,forall,Proof,Qed,Lemma,Theorem,Require,Import},
}

%% Meta
\title{SAM2INV: LLM-Driven Loop Invariant Synthesis\\via Dynamic Sampling and Iterative Refinement}

\author{Anonymous}
\affiliation{%
  \institution{Anonymous Institution}
}
\email{anonymous@example.com}

\begin{document}

%% Abstract
\begin{abstract}
Automatically synthesizing loop invariants remains a central challenge in formal software verification.
We present \textsc{SAM2INV}, an end-to-end system that leverages large language models~(LLMs)
to generate ACSL loop invariant annotations for C programs, enabling fully automated verification
with Frama-C/WP.
Our approach combines three key ideas:
(1)~a \emph{smart dynamic sampling} strategy that executes the program under test with
carefully tiered inputs to collect execution traces that expose loop behaviour;
(2)~\emph{parallel diverse generation}, where multiple LLM calls with varied prompts and
temperatures produce a rich candidate pool;
and (3)~a \emph{Houdini-style iterative pruning} loop that eliminates failing candidates
and feeds verification feedback back to the LLM for targeted repair.
To facilitate large-scale evaluation, we further introduce a \emph{probabilistic DSL}
for synthesizing structured numeric loop programs with controllable complexity.
%% Experiments on the NLA benchmark and on synthetically generated programs show that
%% \textsc{SAM2INV} achieves competitive invariant discovery rates while requiring
%% fewer LLM queries than prior work.
\end{abstract}

\maketitle

%% ============================================================
\input{sections/introduction}
\input{sections/related}
\input{sections/overview}
\input{sections/method}
\input{sections/loop_factory}
\input{sections/experiments}
\input{sections/conclusion}
%% ============================================================

\bibliographystyle{ACM-Reference-Format}
\bibliography{references}

\end{document}
